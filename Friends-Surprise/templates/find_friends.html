<html>

<head>
  <link rel="stylesheet" href="{{url_for('static',filename='css/find_friends.css')}}"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
</head>

<div id="sandbox">

    <div class="sideb">
      <h2 class="theme-color">Weâ€™re Hiring</h2>
      <p class="text-large theme-color">Excited to work with us? Join Our Team</p>
      <input class="search" placeholder="Search" />
      <div class="mobFilter"><i class="fas fa-sliders-h"></i></div>
      <div class="porpSection">
        <button class="xbutton">X</button>
        <div class="sortSection">
        <h3>Sort By:</h3>
        <button class="sort" data-sort="jobTitle">
      Sort by User Name
    </button>
        <button class="sort" data-sort="datePosted">
      Sort by Joined Date
    </button>
      </div>
      <div class="filterSection">
        <div class="filter">
          <h3>Filter by Country</h3>
          <select id="location-filter" class="location selectlist">
        <option selected="selected" value="">All Locations</option>
        <option value="Hyderabad">Hyderabad</option>
        <option value="Bengaluru">Bengaluru</option>
        <option value="Seattle">Seattle</option>
        <option value="Dubai">Dubai</option>
        <option value="London">London</option>
      </select>
        </div>
        <!-- <div class="filter">
          <h3>Filter Opening by Job Type</h3>
          <select id="type-filter" class="jobtypefilter selectlist">
        <option selected="selected" value="">All Job Types</option>
        <option value="Full Time">Full Time</option>
        <option value="Permanent">Permanent</option>
        <option value="Part Time">Part Time</option>
      </select>
        </div> -->
      </div>
    </div>
     </div>
    <div class="listb">
      <ul class="list" id="list">
      </ul>
      <div class="lpagignate"><span class="jPaginateBack page-arrow"><</span>
        <ul class="pagination"></ul><span class="jPaginateNext page-arrow">></span></div>
    </div>
  </div>
  
  </html>

  <script>
    // List.js set-up and initialisation

var options = {
    valueNames: [
      "jobTitle",
      "jobType",
      "datePosted",
      "jobLocation",
      { attr: "href", name: "applyLink" },
      { attr: "src", name: "image" }
    ],
    item:
    '<li><img class="image"><a class="applyLink"><h3 class="jobTitle"></h3></a><div class="bottomBox"><div class="left-part"><button class="jobType"></button><p class="jobLocation"></p></div><div class="dateBox"><h5>Joined Date</h5><p class="datePosted"></p></div></div></li>',
    page: 6,
    pagination: {
      innerWindow: 2,
      left: 1,
      right: 1,
      paginationClass: "pagination"
    }
  };
  
  var values = [
  {% for i in range(count) %}
 
    {
      jobTitle: "{{all_user_data['username'][i]}}",
      jobType: "View More",
      datePosted: "2016-08-19",
      jobLocation:"Hyderabad",
      applyLink: "#",
      image: "{{url_for('static',filename='images/client-image.png')}}"
    },
    {% endfor %}

  ];
  
  var userList = new List("sandbox", options, values);
  userList.sort("datePosted", {
    order: "desc"
  });
  
  $(".jPaginateNext").on("click", function() {
    var list = $(".pagination").find("li");
    $.each(list, function(position, element) {
      if ($(element).is(".active")) {
        $(list[position + 1]).trigger("click");
      }
    });
  });
  
  $(".jPaginateBack").on("click", function() {
    var list = $(".pagination").find("li");
    $.each(list, function(position, element) {
      if ($(element).is(".active")) {
        $(list[position - 1]).trigger("click");
      }
    });
  });
  
  $('#type-filter').change(function () {
      var selection = this.value;
      if (selection) {
          userList.filter(function(item) {
              return (item.values().jobType == selection);
          });
      } else {
          userList.filter();
      }
  });
  
  $('#location-filter').change(function () {
      var selection = this.value;
      if (selection) {
          userList.filter(function(item) {
              return (item.values().jobLocation == selection);
          });
      } else {
          userList.filter();
      }
  });
  
  $('.mobFilter').click(function() {
     $('.porpSection').addClass('activeMob');
     $('body').addClass('filterActive')
      
  });
  
  $('.xbutton').click(function(){
     $('.porpSection').removeClass('activeMob');
     $('body').removeClass('filterActive')
  });
  
  $('.selectlist').change(function(){
        $('.porpSection').removeClass('activeMob');
     $('body').removeClass('filterActive')           
  });
  </script>